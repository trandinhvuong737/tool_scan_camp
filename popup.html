<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Auto Ch·ª•p ·∫¢nh</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      width: 320px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
    }
    
    .container {
      background: white;
      margin: 0;
      padding: 0;
    }
    
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 12px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .header h2 {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
      letter-spacing: 0.3px;
    }
    
    .content {
      padding: 12px;
    }
    
    .section {
      margin-bottom: 14px;
    }
    
    .section-title {
      font-size: 12px;
      font-weight: 600;
      color: #667eea;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .divider {
      height: 1px;
      background: linear-gradient(to right, transparent, #e0e0e0, transparent);
      margin: 12px 0;
    }
    
    button {
      width: 100%;
      padding: 8px 12px;
      margin-top: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      color: white;
      transition: all 0.2s ease;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12);
    }
    
    button:hover {
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transform: translateY(-1px);
    }
    
    button:active {
      transform: scale(0.98);
    }
    
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    #selectAreaBtn {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    #clearAreaBtn {
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      font-size: 11px;
      padding: 6px 10px;
      margin-top: 4px;
    }
    
    #saveTelegramBtn {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }
    
    #sendTelegramBtn {
      background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
      margin-top: 8px;
    }
    
    #sendTelegramBtn.running {
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    }
    
    input[type="text"],
    input[type="password"],
    input[type="number"],
    input[type="date"] {
      width: 100%;
      padding: 7px 10px;
      margin-top: 4px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-size: 12px;
      transition: all 0.2s ease;
      background: #f8f9fa;
    }
    
    input:focus {
      outline: none;
      border-color: #667eea;
      background: white;
      box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
    }
    
    label {
      font-size: 11px;
      font-weight: 500;
      color: #555;
      display: block;
      margin-top: 8px;
    }
    
    label:first-child {
      margin-top: 0;
    }
    
    .input-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 6px;
    }
    
    .input-group input {
      margin-top: 0;
    }
    
    .region-info {
      background: linear-gradient(135deg, #e0f7fa 0%, #e1bee7 100%);
      padding: 8px 10px;
      margin: 6px 0 4px 0;
      border-radius: 6px;
      font-size: 11px;
      border-left: 3px solid #667eea;
    }
    
    .region-info strong {
      color: #667eea;
      display: block;
      margin-bottom: 3px;
      font-size: 11px;
    }
    
    .countdown {
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      padding: 7px 10px;
      margin: 6px 0;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      color: #d84315;
      text-align: center;
      border-left: 3px solid #ff6f00;
    }
    
    #statusMessage {
      margin-top: 8px;
      padding: 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 500;
      text-align: center;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .info-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h2>üöÄ Auto Ch·ª•p ·∫¢nh</h2>
    </div>
    
    <div class="content">
      <!-- Screenshot Section -->
      <div class="section">
        <div class="section-title">üì∏ V√πng Ch·ª•p ·∫¢nh</div>
        <button id="selectAreaBtn">‚úÇÔ∏è Ch·ªçn V√πng Ch·ª•p</button>
        <div id="regionInfo" style="display:none;" class="region-info">
          <strong>‚úì ƒê√£ ch·ªçn v√πng</strong>
          <div class="info-row">
            <span>K√≠ch th∆∞·ªõc:</span>
            <span id="regionText"></span>
          </div>
        </div>
        <button id="clearAreaBtn" style="display:none;">üóëÔ∏è X√≥a V√πng ƒê√£ Ch·ªçn</button>
      </div>

      <div class="divider"></div>

      <!-- Telegram Config Section -->
      <div class="section">
        <div class="section-title">ü§ñ C·∫•u H√¨nh Telegram</div>
        <label for="botToken">Bot Token (chung cho t·∫•t c·∫£ tab)</label>
        <input type="password" id="botToken" placeholder="123456:ABC-DEF...">
        
        <label for="chatId">Chat ID (ri√™ng cho tab n√†y)</label>
        <input type="text" id="chatId" placeholder="987654321">
      </div>

      <div class="divider"></div>

      <!-- Auto Settings Section -->
      <div class="section">
        <div class="section-title">‚öôÔ∏è C√†i ƒê·∫∑t Auto</div>
        
        <div class="input-group">
          <div>
            <label for="interval">G·ª≠i m·ªói (ph√∫t)</label>
            <input type="number" id="interval" min="1" value="10">
          </div>
          <div>
            <label for="pageLoadTimeout">Timeout (ms)</label>
            <input type="number" id="pageLoadTimeout" min="1000" value="3000">
          </div>
        </div>
        
        <label for="startDate">Ng√†y b·∫Øt ƒë·∫ßu</label>
        <input type="date" id="startDate">
        
        <label for="endDate">Ng√†y k·∫øt th√∫c</label>
        <input type="date" id="endDate">
        
        <label for="fileName">T√™n file Google Sheet (ƒë·ªÉ tr·ªëng = b·ªè qua)</label>
        <input type="text" id="fileName" placeholder="V√≠ d·ª•: B√°o c√°o ng√†y 04-11">
        
        <label style="display: flex; align-items: center; gap: 8px; margin-top: 12px; cursor: pointer;">
          <input type="checkbox" id="enableLop" style="width: auto; cursor: pointer;">
          <span style="font-size: 12px; font-weight: 600; color: #667eea;">üîÑ Ch·ªçn "ƒê∆°n v·ªã ti·ªÅn t·ªá ƒë√£ chuy·ªÉn ƒë·ªïi" (L·ªõp)</span>
        </label>
      </div>

      <div class="divider"></div>

      <!-- Action Buttons -->
      <div class="section">
        <button id="saveTelegramBtn">üíæ L∆∞u C·∫•u H√¨nh</button>
        
        <div id="countdown" class="countdown" style="display:none;"></div>
        
        <button id="sendTelegramBtn">üöÄ B·∫Øt ƒê·∫ßu Auto</button>
      </div>
    </div>
  </div>

  <script src="xlsx.full.min.js"></script>
  <script src="popup.js"></script>
</body>
</html>